(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/BlankLoop.84d5fa3a.mp4"},24:function(e,t,a){e.exports=a(49)},33:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(23),c=a(1),o=a(0),l=a.n(o),r=a(19),s=a.n(r),i=(a(33),a(22).a(window.location.hostname+":"+window.location.port)),u=l.a.createContext(i);a(39);var m=function(e){var t=Object(o.useState)(!1),a=Object(c.a)(t,2),n=a[0],r=a[1],s=Object(o.useState)(Date.now()),i=Object(c.a)(s,2),m=i[0],b=i[1],d=Object(o.useState)((m-Date.now())/1e3),f=Object(c.a)(d,2),g=f[0],p=f[1],v=Object(o.useContext)(u),O=Object(o.useState)(0),j=Object(c.a)(O,2),E=j[0],h=j[1],S=Object(o.useState)(0),C=Object(c.a)(S,2),N=C[0],k=C[1],w=Object(o.useState)(0),y=Object(c.a)(w,2),T=y[0],x=y[1],_=Object(o.useState)(0),D=Object(c.a)(_,2),z=D[0],M=D[1],G=Object(o.useState)(0),L=Object(c.a)(G,2),F=L[0],H=L[1],U=Object(o.useState)(0),A=Object(c.a)(U,2),B=A[0],I=A[1],R=Object(o.useState)(0),Y=Object(c.a)(R,2),W=Y[0],X=Y[1],q=Object(o.useState)(0),J=Object(c.a)(q,2),P=J[0],V=J[1],K=Object(o.useState)(16),Q=Object(c.a)(K,2),Z=Q[0],$=Q[1],ee=Object(o.useState)("END"),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],ce=e.globalState,oe=e.updateGlobal,le=Object(o.useCallback)(function(e){1===e&&(console.log("Sent UTC: ".concat(Date.now())),I(Date.now())),2===e&&(console.log("Recieved UTC: ".concat(Date.now())),X(Date.now()))},[I,X]);Object(o.useEffect)(function(){0!==B&&0!==W&&(V((W-B)/2),console.log("UTC-Offset: ".concat(F)),console.log("S: ".concat(B,"\nR: ").concat(W)),console.log("Round Trip Time: ".concat(W-B)),H(F-P),console.log("Offset: ".concat(F-P)),X(0),I(0))},[P,F,B,W,X,I]);var re=Object(o.useCallback)(function(e){console.log("Display Information: ".concat(e));var t=e.split(" ");try{Number(t[1])}catch(l){return void console.log("Couldn't interpet display information from server command: ".concat(e))}if(t[0]=t[0].replace("#",""),3===t[0].length||4===t[0].length||6===t[0].length||8===t[0].length)if(t[2]=t[2].replace("#",""),3===t[2].length||4===t[2].length||6===t[2].length||8===t[2].length){var a=t.shift(),n=Number(t.shift()),c=t.shift(),o=t.join(" ");oe({color:a,size:n,endColor:c,endTxt:o})}else console.log("Couldn't get colour information from server command: ".concat(e));else console.log("Couldn't get colour information from server command: ".concat(e))},[oe]);Object(o.useEffect)(function(){var e=Date.now()+.5-F,t=1e3-1e3*(e/1e3-Math.floor(e/1e3)),a=Math.max(t,700),c=Math.min(a,1300);setTimeout(function(){r(!n),p(Math.floor((m-e)/1e3))},c)},[p,r,n,m,F,g]),Object(o.useEffect)(function(){M(Math.floor(g/86400)),x(Math.floor(g/3600)-24*Math.floor(g/86400)),k(Math.floor(g/60)-60*Math.floor(g/3600)),h(g%60)},[M,x,k,h,g]);var se=Object(o.useCallback)(function(){console.log("Socket Connected."),v.emit("updatetimer","query"),v.emit("updatedisp","query"),v.emit("ping",""),le(1)},[v,le]),ie=Object(o.useCallback)(function(e){console.log("Socket Disconnect. [".concat(e,"]"))},[]),ue=Object(o.useCallback)(function(){le(2)},[le]),me=Object(o.useCallback)(function(e){console.log("[TIMER EVENT]: ".concat(e));var t=e.toString().toLowerCase().split(" "),a=Date.now(),n=Date.now();try{a=Number(t[0]),n=Number(t[1])}catch(c){console.log("Failed to convert `".concat(e,"` to Numbers"))}b(a),H(Date.now()-n)},[b,H]);Object(o.useEffect)(function(){return v.on("connect",se),v.on("disconnect",ie),v.on("ping",ue),v.on("timer",me),v.on("display",re),function(){v.off("connect",se),v.off("disconnect",ie),v.off("ping",ue),v.off("timer",me),v.off("display",re)}},[v,se,ie,ue,me,re]),window.addEventListener("resize",function(){be()});var be=Object(o.useCallback)(function(){var e=window.innerWidth/96*ce.size;$(e),ne(ce.endTxt)},[ce]);return Object(o.useEffect)(function(){be()},[g,ce,be]),g>=0?l.a.createElement("div",{className:"App"},l.a.createElement("span",{id:"timer",style:{fontSize:"".concat(Z,"px"),color:"#".concat(ce.color)}},z>0?z.toString().padStart(2,"0")+":":"",z>0||T>0?T.toString().padStart(2,"0")+":":"",z>0||T>0||N>0?N.toString().padStart(2,"0")+":":"",z>0||T>0||N>0?E.toString().padStart(2,"0"):E.toString())):l.a.createElement("div",{className:"App"},l.a.createElement("span",{id:"timer",style:{fontSize:"".concat(Z,"px"),color:"#".concat(ce.endColor)}},ae))};var b=function(e){var t=e.persistState,a=Object(o.useState)(t.days),n=Object(c.a)(a,2),r=n[0],s=n[1],i=Object(o.useState)(t.hours),m=Object(c.a)(i,2),b=m[0],d=m[1],f=Object(o.useState)(t.minutes),g=Object(c.a)(f,2),p=g[0],v=g[1],O=Object(o.useState)(t.seconds),j=Object(c.a)(O,2),E=j[0],h=j[1],S=Object(o.useContext)(u),C=Object(o.useState)(t.timeOpt),N=Object(c.a)(C,2),k=N[0],w=N[1],y=Object(o.useState)(new Date),T=Object(c.a)(y,2),x=T[0],_=T[1],D=Object(o.useState)({time:0,updated:!1}),z=Object(c.a)(D,2),M=z[0],G=z[1],L=Object(o.useState)({time:0,updated:!1,serv_time:0}),F=Object(c.a)(L,2),H=F[0],U=F[1],A=e.changeState,B=Object(o.useCallback)(function(e){U({time:Date.now(),updated:!0,serv_time:e})},[U]);function I(){d(b+1>23?0:b+1)}function R(){p+1>59?(v(0),I()):v(p+1)}function Y(){E+1>59?(h(0),R()):h(E+1)}function W(){d(b-1<0?23:b-1)}function X(){p-1<0?(v(59),W()):v(p-1)}function q(){E-1<0?(h(59),X()):h(E-1)}Object(o.useEffect)(function(){if(M.updated&&H.updated){var e=Date.now()+(H.serv_time-Date.now()-(H.time-M.time));e+=1e3*r*60*60*24,e+=1e3*b*60*60,e+=1e3*p*60,e+=1e3*E,S.emit("updatetimer","set ".concat(e)),G({time:0,updated:!1}),U({time:0,updated:!1,serv_time:0})}},[M,H,r,b,p,E,S]);var J=Object(o.useCallback)(function(e){A(e.days,e.hours,e.minutes,e.seconds,e.timeOpt)},[A]),P=Object(o.useCallback)(function(e){if(e.target.checked){var t=new Date;d(t.getHours()),v(t.getMinutes()),h(t.getSeconds()),w(1)}else s(0),d(0),v(0),h(0),w(0)},[]);Object(o.useEffect)(function(){return S.on("ping",B),function(){S.off("ping",B)}},[S,B]);var V=Object(o.useCallback)(function(){r>0&&s(r-1)},[s,r]),K=Object(o.useCallback)(function(){s(function(e){return e+1})},[s]);Object(o.useEffect)(function(){J({days:r,hours:b,minutes:p,seconds:E,timeOpt:k});var e=new Date,t=Date.now();t-=1e3*e.getHours()*60*60,t-=1e3*e.getMinutes()*60,t-=1e3*e.getSeconds(),t-=e.getMilliseconds(),t+=1e3*r*60*60*24,t+=1e3*b*60*60,t+=1e3*p*60,t+=1e3*E,1===k&&t-Date.now()<0&&s(function(e){return e+1}),_(new Date(t))},[r,b,p,E,k,J,_,s]);var Q=Object(o.useState)({x:0,y:0}),Z=Object(c.a)(Q,2),$=Z[0],ee=Z[1],te=Object(o.useState)({x:0,y:0}),ae=Object(c.a)(te,2),ne=ae[0],ce=ae[1],oe=Object(o.useState)(0),le=Object(c.a)(oe,2),re=le[0],se=le[1],ie=Object(o.useState)({current:0,target:0}),ue=Object(c.a)(ie,2),me=ue[0],be=ue[1],de=Object(o.useState)({current:0,target:0}),fe=Object(c.a)(de,2),ge=fe[0],pe=fe[1],ve=Object(o.useState)({current:0,target:0}),Oe=Object(c.a)(ve,2),je=Oe[0],Ee=Oe[1],he=Object(o.useState)({current:0,target:0}),Se=Object(c.a)(he,2),Ce=Se[0],Ne=Se[1];function ke(e){ce({x:e.touches[0].clientX-$.x,y:e.touches[0].clientY-$.y})}function we(e){se(0)}return Object(o.useEffect)(function(){var e=Math.floor(ne.y/-20),t=Math.floor(ne.x/20);switch(re){case 1:for(var a=0;a<Math.abs(me.current-e);a++)me.current<e?Y():q();be({current:e,target:e});break;case 2:for(var n=0;n<Math.abs(ge.current-e);n++)ge.current<e?R():X();pe({current:e,target:e});break;case 3:for(var c=0;c<Math.abs(je.current-e);c++)je.current<e?I():W();Ee({current:e,target:e});break;case 4:for(var o=0;o<Math.abs(Ce.current-t);o++)Ce.current<t?K():V();Ne({current:t,target:t})}},[ne]),l.a.createElement("div",{className:"timeSetter"},l.a.createElement("div",{className:"control-titlebox"},l.a.createElement("span",null,"Timer Controls")),l.a.createElement("form",{className:"TS-opt",onSubmit:function(t){if(t.preventDefault(),0===k&&(S.emit("ping","ping"),G({time:Date.now(),updated:!0}),e.closeOverlay()),1===k){var a=new Date,n=Date.now();n-=1e3*a.getHours()*60*60,n-=1e3*a.getMinutes()*60,n-=1e3*a.getSeconds(),n-=a.getMilliseconds(),n+=1e3*r*60*60*24,n+=1e3*b*60*60,n+=1e3*p*60,(n+=1e3*E)<Date.now()&&(n+=864e5),S.emit("updatetimer","set ".concat(n)),e.closeOverlay()}}},l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",id:"ts-opt-1-1",name:"ts-opt-1",value:"TFN",onChange:P,defaultChecked:1===k}),l.a.createElement("label",{htmlFor:"ts-opt-1-1"},"Set Specific Time"),l.a.createElement("br",null)),l.a.createElement("div",{className:"TS-day_select",onWheel:function(e){e.deltaY>0?V():K()},onTouchStart:function(e){ee({x:e.touches[0].clientX,y:e.touches[0].clientY}),Ne({current:0,target:0}),se(4)},onTouchMove:ke,onTouchEnd:we},l.a.createElement("div",{className:"TS-day_sub",onClick:V},l.a.createElement("span",null,"-")),l.a.createElement("div",{className:"TS-day_indicator"},1===k?l.a.createElement("span",null,["January","February","March","April","May","June","July","August","September","October","November","December"][x.getMonth()]+" "+x.getDate()):l.a.createElement("span",null,r," Days")),l.a.createElement("div",{className:"TS-day_add",onClick:K},l.a.createElement("span",null,"+"))),l.a.createElement("div",{className:"TS-timesel"},l.a.createElement("div",{className:"TS-sel",onWheel:function(e){e.deltaY>0?W():I()},onTouchStart:function(e){ee({x:e.touches[0].clientX,y:e.touches[0].clientY}),Ee({current:0,target:0}),se(3)},onTouchMove:ke,onTouchEnd:we},l.a.createElement("div",{className:"TS-uparrow",onClick:I}),l.a.createElement("span",{className:"TS-h"},b.toString().padStart(2,"0")),l.a.createElement("div",{className:"TS-downarrow",onClick:W})),l.a.createElement("span",{className:"TS-selsplitter"},":"),l.a.createElement("div",{className:"TS-sel",onWheel:function(e){e.deltaY>0?X():R()},onTouchStart:function(e){ee({x:e.touches[0].clientX,y:e.touches[0].clientY}),pe({current:0,target:0}),se(2)},onTouchMove:ke,onTouchEnd:we},l.a.createElement("div",{className:"TS-uparrow",onClick:R}),l.a.createElement("span",{className:"TS-h"},p.toString().padStart(2,"0")),l.a.createElement("div",{className:"TS-downarrow",onClick:X})),l.a.createElement("span",{className:"TS-selsplitter"},":"),l.a.createElement("div",{className:"TS-sel",onWheel:function(e){e.deltaY>0?q():Y()},onTouchStart:function(e){ee({x:e.touches[0].clientX,y:e.touches[0].clientY}),be({current:0,target:0}),se(1)},onTouchMove:ke,onTouchEnd:we},l.a.createElement("div",{className:"TS-uparrow",onClick:Y}),l.a.createElement("span",{className:"TS-h"},E.toString().padStart(2,"0")),l.a.createElement("div",{className:"TS-downarrow",onClick:q}))),l.a.createElement("input",{type:"submit",value:"Set Timer",className:"TS-submit"})))};var d=function(e){var t=e.persistState,a=e.globalState,n=e.updateGlobal,r=Object(o.useState)(t.useImg),s=Object(c.a)(r,2),i=s[0],m=s[1],b=Object(o.useState)(t.imageaddr),d=Object(c.a)(b,2),f=d[0],g=d[1],p=Object(o.useState)(t.solidColor),v=Object(c.a)(p,2),O=v[0],j=v[1],E=Object(o.useState)(a.bgHorizontal),h=Object(c.a)(E,2),S=h[0],C=h[1],N=Object(o.useContext)(u),k=e.changeState;function w(e){m(e.target.checked)}return Object(o.useEffect)(function(){k(i,f,O,S)},[k,i,f,O,S]),l.a.createElement("div",{className:"newbg"},l.a.createElement("div",{className:"control-titlebox"},l.a.createElement("span",null,"Background Controls")),l.a.createElement("form",{className:"TS-opt",onSubmit:function(e){e.preventDefault(),i?(console.log("Requesting Image Background."),N.emit("background","set bgi ".concat(i," ").concat(f))):""!==O&&(console.log("Requesting Solid Colour Background."),N.emit("background","set bgi ".concat(i," ").concat(O)))}},i?l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",name:"Use Images",id:"ts-opt-2-1",onChange:w,defaultChecked:i}),l.a.createElement("label",{htmlFor:"ts-opt-2-1"},"Use Image"),l.a.createElement("br",null),l.a.createElement("input",{type:"checkbox",name:"Horizontal",id:"ts-opt-2-2",onChange:function(e){N.emit("background","set bgh ".concat(e.target.checked)),C(e.target.checked),n({bgHorizontal:e.target.checked})},defaultChecked:S}),l.a.createElement("label",{htmlFor:"ts-opt-2-2"},"Fit Horizontal")):l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",name:"Use Images",id:"ts-opt-2-1",onChange:w,defaultChecked:i}),l.a.createElement("label",{htmlFor:"ts-opt-2-1"},"Use Image"),l.a.createElement("br",null)),i?l.a.createElement("div",{className:"newbg_image_select"},l.a.createElement("div",{className:"newbg_image_textbox_container"},l.a.createElement("input",{type:"text",value:f,onChange:function(e){g(e.target.value)},className:"newbg_image_textbox"})),l.a.createElement("div",{className:"newbg_image_container"},l.a.createElement("img",{src:f,className:"newbg_image_preview",alt:"Background"}))):l.a.createElement("div",{className:"newbg_solid_select"},l.a.createElement("div",null,l.a.createElement("span",null,"#"),l.a.createElement("input",{type:"text",className:"newbg_solid_textbox",value:O,onChange:function(e){var t,a=e.target.value;a.length>8&&(a="".concat(a.substring(0,8)).concat(a[a.length-1])),t=a.replace(/[^0-9a-f]+/gi,""),j(t)}})),3===O.length||4===O.length||6===O.length||8===O.length?l.a.createElement("div",{className:"newbg_solid_indicator",style:{backgroundColor:"#".concat(O)}},"00:00:00"):l.a.createElement("div",{className:"newbg_indicator_fail"},l.a.createElement("span",{className:"redtext"},"INVALID HEX"),l.a.createElement("span",{className:"newbg_indicator_explain"},"Hex should be 3,4,6 or 8 character long hexadecimal digits. [0-9 and a-f]"),l.a.createElement("span",{className:"newbg_indicator_explain"},"e.g. 0f0fff, 12ab34cd"))),l.a.createElement("input",{type:"submit",className:"newbg-submit",value:"Set Background"})))};var f=function(e){var t=Object(o.useContext)(u),a=(e.globalState,e.updateGlobal,Object(o.useState)()),n=Object(c.a)(a,2),r=n[0],s=n[1],i=Object(o.useState)(""),m=Object(c.a)(i,2),b=m[0],d=m[1],f=Object(o.useState)(0),g=Object(c.a)(f,2),p=g[0],v=g[1],O=Object(o.useState)(""),j=Object(c.a)(O,2),E=j[0],h=j[1],S=Object(o.useState)(0),C=Object(c.a)(S,2),N=C[0],k=C[1],w=Object(o.useState)(e.horiz),y=Object(c.a)(w,2),T=y[0],x=y[1],_=e.update,D=Object(o.useCallback)(function(){console.log("[Background Uploader] Connected to server.")},[]),z=Object(o.useCallback)(function(e){console.log("[Background Uploader] Disconnected from server. [".concat(e,"]"))},[]);Object(o.useEffect)(function(){return t.on("connect",D),t.on("disconnect",z),function(){t.off("connect",D),t.off("disconnect",z)}},[t,D,z]);var M=Object(o.useCallback)(function(e){if(k(function(e){return e+1}),0!==e.target.files.length){var t=e.target.files[0];s(t),d(t.name),v(t.size),h(t.type)}},[]),G=Object(o.useCallback)(function(e){if(e.preventDefault(),void 0!==r){var t=new FormData;t.append("File",r),fetch("http://".concat(window.location.hostname,":3002/upload/"),{method:"POST",body:t}).then(function(e){console.log("".concat(e.ok?"File Uploaded Successfully.":"File failed to upload."))}).catch(function(e){console.log("There was an Error: ".concat(e))})}},[r]),L=Object(o.useCallback)(function(e){t.emit("background","set bgh ".concat(e.target.checked)),x(e.target.checked),_(e.target.checked)},[_,t]);return l.a.createElement("div",{className:"newbgi"},l.a.createElement("div",{className:"control-titlebox"},l.a.createElement("span",null,"Background Upload")),l.a.createElement("div",{className:"TS-opt"},l.a.createElement("div",{className:"newbgi-container"},l.a.createElement("input",{type:"file",name:"file_".concat(N),onChange:M,accept:".jpg,.jpeg,.png"}),l.a.createElement("div",{className:"newbgi-fileinfo newbgi-item"},l.a.createElement("span",null,"File Name: "+b),l.a.createElement("span",null,"File Size: "+p),l.a.createElement("span",null,"File Type: "+E)),l.a.createElement("div",{className:"newbgi-fithoriz"},l.a.createElement("input",{type:"checkbox",name:"ts-opt-3-2",onChange:L,defaultChecked:T}),l.a.createElement("label",{htmlFor:"ts-opt-3-2"},"Fit Horizontal")),l.a.createElement("button",{onClick:G,className:"newbgi-upload"},"Upload Image"))))};var g=function(e){var t=Object(o.useContext)(u),a=e.globalState,n=e.updateGlobal,r=Object(o.useState)(a.size),s=Object(c.a)(r,2),i=s[0],m=s[1],b=Object(o.useState)(a.color),d=Object(c.a)(b,2),f=d[0],g=d[1],p=Object(o.useState)(a.endTxt),v=Object(c.a)(p,2),O=v[0],j=v[1],E=Object(o.useState)(a.title),h=Object(c.a)(E,2),S=h[0],C=h[1],N=Object(o.useState)(a.endColor),k=Object(c.a)(N,2),w=k[0],y=k[1],T=Object(o.useState)(a.titleColor),x=Object(c.a)(T,2),_=x[0],D=x[1],z=Object(o.useState)(!1),M=Object(c.a)(z,2),G=M[0],L=M[1],F=Object(o.useState)(!1),H=Object(c.a)(F,2),U=H[0],A=H[1];Object(o.useEffect)(function(){n({color:f,size:i,endTxt:O,title:S}),A(0!==i&&""!==f&&""!==O)},[i,f,O,S,A]);var B=Object(o.useCallback)(function(e){e.preventDefault(),t.emit("updatedisp","set ".concat(f," ").concat(i," ").concat(w," ").concat(O)),t.emit("title","set ".concat(_," ").concat(S)),n({typing:!1}),L(!0),setTimeout(function(){L(!1)},1e3)},[t,f,i,O,w,_,S,L]),I=Object(o.useCallback)(function(e){console.log("Selected"),n({typing:!0})},[n]),R=Object(o.useCallback)(function(e){console.log("Deselected"),n({typing:!1})},[n]);return Object(o.useEffect)(function(){var e=document.getElementsByClassName("tmrdsp-txt-nostyle");console.log("Textbox listeners applied");for(var t=0;t<e.length;t++){var a=e.item(t);null!==a&&(a.addEventListener("focusin",I),a.addEventListener("focusout",R))}},[]),l.a.createElement("div",{className:"tmrdsp"},l.a.createElement("div",{className:"control-titlebox"},l.a.createElement("span",null,"Text Options")),l.a.createElement("form",{className:"TS-opt",onSubmit:B},l.a.createElement("div",{className:"tmrdsp_options"},l.a.createElement("div",{className:"tmrdsp_fsiz_cont"},l.a.createElement("span",null,"Font Size"),l.a.createElement("div",{className:"tmrdsp_filler"}),l.a.createElement("input",{type:"number",name:"fontSize",className:"tmrdsp_fsize",value:i,onChange:function(e){m(e.target.value),n({size:e.target.value})}})),l.a.createElement("div",{className:"tmrdsp_fcol_cont"},l.a.createElement("span",null,"Color"),l.a.createElement("div",{className:"tmrdsp_filler"}),l.a.createElement("input",{type:"text",name:"color",onChange:function(e){var t,a=e.target.value;a.length>8&&(a="".concat(a.substring(0,8)).concat(a[a.length-1])),t=a.replace(/[^0-9a-f]+/gi,""),g(t),n({color:t})},value:f,className:"tmrdsp_fcolr tmrdsp-txt-nostyle"})),l.a.createElement("div",{className:"tmrdsp_etxt_cont"},l.a.createElement("div",{className:"tmrdsp_span-color"},l.a.createElement("span",null,"End Text"),l.a.createElement("div",{className:"tmrdsp_filler"}),l.a.createElement("input",{type:"text",className:"tmrdsp_etxt_colr tmrdsp-txt-nostyle",value:w,onChange:function(e){y(e.target.value),n({endColor:e.target.value})}})),l.a.createElement("input",{type:"text",name:"endText",onChange:function(e){j(e.target.value),n({endTxt:e.target.value})},value:O,className:"tmrdsp_etxt tmrdsp-txt-nostyle"})),l.a.createElement("div",{className:"tmrdsp_ttxt_cont"},l.a.createElement("div",{className:"tmrdsp_span-color"},l.a.createElement("span",null,"Title"),l.a.createElement("div",{className:"tmrdsp_filler"}),l.a.createElement("input",{type:"text",className:"tmrdsp_ttxt_colr tmrdsp-txt-nostyle",value:_,onChange:function(e){D(e.target.value),n({titleColor:e.target.value})}})),l.a.createElement("input",{type:"text",name:"titleText",onChange:function(e){C(e.target.value),n({title:e.target.value})},value:S,className:"tmrdsp_ttxt tmrdsp-txt-nostyle"}))),l.a.createElement("input",{type:"submit",name:"submit",value:"Sync Settings",className:"tmrdsp_submit tmrdsp-s-"+(U?G?"enabled-complete":"enabled":"disabled"),disabled:!U||G})))};a(41);var p=function(e){var t=Object(o.useState)(!1),a=Object(c.a)(t,2),n=a[0],r=a[1],s=Object(o.useState)(n),i=Object(c.a)(s,2),u=i[0],m=i[1],p=Object(o.useState)(!0),v=Object(c.a)(p,2),O=v[0],j=v[1],E=Object(o.useState)(!0),h=Object(c.a)(E,2),S=h[0],C=h[1],N=Object(o.useState)(0),k=Object(c.a)(N,2),w=k[0],y=k[1],T=e.globalState,x=Object(o.useState)(window.innerHeight<310),_=Object(c.a)(x,2),D=_[0],z=_[1],M=Object(o.useState)({days:0,hours:0,minutes:0,seconds:0,timeOpt:0}),G=Object(c.a)(M,2),L=G[0],F=G[1],H=Object(o.useState)({useImg:!1,imageaddr:"",solidColor:"",fitHorizontal:!1}),U=Object(c.a)(H,2),A=U[0],B=U[1],I=Object(o.useState)({fontColor:T.color,fontSize:T.size,endTxt:T.endTxt,title:T.title}),R=Object(c.a)(I,2),Y=R[0],W=R[1],X=Object(o.useCallback)(function(e){O||!1===T.typing&&" "===e.key&&(r(function(e){return!e}),j(!0),setTimeout(function(){j(!1)},500))},[O,T]);function q(){O||(D&&(document.exitFullscreen(),z(!1)),r(!1),j(!0),setTimeout(function(){j(!1)},500))}Object(o.useEffect)(function(){return document.addEventListener("keypress",X),function(){return document.removeEventListener("keypress",X)}},[X]);var J=Object(o.useCallback)(function(){return n},[n]);Object(o.useEffect)(function(){n?m(J()):setTimeout(function(){m(J())},500)},[n,J]);var P=Object(o.useCallback)(function(e,t,a,n,c){F({days:e,hours:t,minutes:a,seconds:n,timeOpt:c})},[]),V=Object(o.useCallback)(function(e,t,a,n){B({useImg:e,imageaddr:t,solidColor:a,fitHorizontal:n})},[]),K=Object(o.useCallback)(function(e){V(A.useImg,A.imageaddr,A.solidColor,e)},[V,A]),Q=Object(o.useCallback)(function(e,t,a,n){W({fontColor:e,fontSize:t,endTxt:a,title:n})},[W]),Z=Object(o.useCallback)(function(){3!==w&&y(w+1)},[w]),$=Object(o.useCallback)(function(){0!==w&&y(w-1)},[w]);return Object(o.useEffect)(function(){C(window.innerWidth<600),window.addEventListener("resize",function(){C(window.innerWidth<600)}),setTimeout(function(){j(!1)},500)},[]),l.a.createElement("div",{id:"overlay",className:"overlay"+(n?" overlay_visible":" overlay_hidden"),onClick:function(){n||O||(window.innerHeight<310&&(document.body.requestFullscreen(),z(!0)),r(!0),j(!0),setTimeout(function(){j(!1)},500))}},u?l.a.createElement("div",{className:"overlay-container"},l.a.createElement("div",{className:"overlay-closespace",onClick:q}),l.a.createElement("div",{className:"overlay-controls-container"},l.a.createElement("div",{className:"overlay-closespace",onClick:q}),l.a.createElement("div",{className:"controls-"+(S?"tall":"norm")},S?"":l.a.createElement("div",{className:"controls-arrow arrow-margin-left",onClick:$},l.a.createElement("div",{className:"controls-LA-"+(0!==w?"active":"inactive")})),S?l.a.createElement("div",{className:"panel-controls-short"},l.a.createElement("div",{className:"panel-controls-short-arrowspace-L",onClick:$},l.a.createElement("div",{className:"panel-controls-short-arrow-L-"+(0!==w?"active":"inactive")}),l.a.createElement("div",{className:"panel-controls-short-arrow-L-"+(0!==w?"active":"inactive")})),l.a.createElement("div",{className:"panel-controls-short-arrowspace-R",onClick:Z},l.a.createElement("div",{className:"panel-controls-short-arrow-R-"+(3!==w?"active":"inactive")}),l.a.createElement("div",{className:"panel-controls-short-arrow-R-"+(3!==w?"active":"inactive")}))):"",l.a.createElement("div",{className:"controls-mid"},0===w?l.a.createElement(b,{persistState:L,closeOverlay:q,changeState:P}):"",1===w?l.a.createElement(d,{persistState:A,changeState:V,globalState:e.globalState,updateGlobal:e.updateGlobal}):"",2===w?l.a.createElement(f,{horiz:A.fitHorizontal,update:K,globalState:e.globalState,updateGlobal:e.updateGlobal}):"",3===w?l.a.createElement(g,{persistState:Y,changeState:Q,globalState:e.globalState,updateGlobal:e.updateGlobal}):""),S?"":l.a.createElement("div",{className:"controls-arrow arrow-margin-right",onClick:Z},l.a.createElement("div",{className:"controls-RA-"+(3!==w?"active":"inactive")}))),l.a.createElement("div",{className:"overlay-closespace",onClick:q})),l.a.createElement("div",{className:"overlay-closespace",onClick:q})):"")};a(43);var v=function(e){var t=Object(o.useContext)(u),a=Object(o.useState)(!1),n=Object(c.a)(a,2),r=n[0],s=n[1],i=Object(o.useState)(!1),m=Object(c.a)(i,2),b=m[0],d=m[1],f=Object(o.useState)(""),g=Object(c.a)(f,2),p=g[0],v=g[1],O=Object(o.useState)(""),j=Object(c.a)(O,2),E=j[0],h=j[1],S=e.updateGlobal,C=Object(o.useCallback)(function(){t.emit("background","get")},[t]),N=Object(o.useCallback)(function(e){console.log("[BACKGROUND CHANGE]: ".concat(e));var t=e.toLowerCase().split(" ");switch(t[0]){case"true":"true"===t[1]?(s(!0),d("true"===t[2]),t.shift(),t.shift(),t.shift(),v("http://".concat(window.location.hostname,":").concat(window.location.port,"/uploads/").concat(t.join(" ")))):"false"===t[1]&&(s(!0),d("true"===t[2]),t.shift(),t.shift(),t.shift(),v(t.join(" ")));break;case"false":s(!1),h(t[1])}},[v,h,s]),k=Object(o.useCallback)(function(e){var t=!0===e;d(t),S({bgHorizontal:t})},[d]);return Object(o.useEffect)(function(){return t.on("connect",C),t.on("background",N),t.on("bgHU",k),function(){t.off("connect",C),t.off("background",N),t.off("bgHU",k)}},[t,C,N,k]),l.a.createElement("div",{className:"background"},r?l.a.createElement("img",{src:p,className:"background_image-"+(b?"horizontal":"vertical"),alt:"Background"}):l.a.createElement("div",{style:{backgroundColor:"".concat(E),width:"100%",height:"100%"}}))},O=a(21),j=a.n(O);a(45);function E(e){return l.a.createElement("div",{className:"neversleep"},l.a.createElement("video",{src:j.a,autoPlay:!0,loop:!0,width:"0",height:"0",muted:!0}))}a(47);function h(e){var t=e.globalState,a=Object(o.useContext)(u),n=e.updateGlobal,c=Object(o.useCallback)(function(e){var t=e.split(" "),a=t.shift(),c=t.join(" ");console.log("Title Update",a,c),n({titleColor:a,title:c})},[n]),r=Object(o.useCallback)(function(){a.emit("title","get")},[a]);return Object(o.useEffect)(function(){return a.on("connect",r),a.on("title",c),function(){a.off("connect",r),a.off("title",c)}},[a,r,c]),l.a.createElement("div",{className:"title_cont"},l.a.createElement("span",{className:"title_text",style:{color:"#".concat(t.titleColor)}},t.title))}function S(){var e=Object(o.useState)({color:"fff",size:16,endTxt:"END",title:"TITLE",endColor:"fff",titleColor:"fff",typing:!1,bgHorizontal:!1}),t=Object(c.a)(e,2),a=t[0],r=t[1],s=Object(o.useState)(new Array),b=Object(c.a)(s,2),d=b[0],f=b[1],g=Object(o.useState)(!1),O=Object(c.a)(g,2),j=O[0],S=O[1];var C=Object(o.useCallback)(function(e){f(function(t){return[].concat(Object(n.a)(t),[e])})},[r,a]);return Object(o.useEffect)(function(){S(!1)},[a]),Object(o.useEffect)(function(){d.length>0?j?console.log("[GLOBAL STATE]: Changes to make, but state is currently changing."):(console.log("[GLOBAL STATE]: Changes to make, State is not changing. Updating."),S(!0),function(e){var t=a,n={};Object.keys(a).forEach(function(e){n[e]=t[e]}),Object.keys(a).forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),r(n)}(d[0]),f(function(e){return e.shift(),e})):console.log("[GLOBAL STATE]: No more changes to make.")},[d,j]),l.a.createElement(u.Provider,{value:i},l.a.createElement(E,null),l.a.createElement(v,{globalState:a,updateGlobal:C}),l.a.createElement(h,{globalState:a,updateGlobal:C}),l.a.createElement(m,{globalState:a,updateGlobal:C}),l.a.createElement(p,{globalState:a,updateGlobal:C}))}s.a.createRoot(document.getElementById("root")).render(l.a.createElement(S,null))}},[[24,2,1]]]);
//# sourceMappingURL=main.4e8f227d.chunk.js.map